# **Автоматизация сбора данных и их представление в сводном файле единого формата (кейс Росстата)**

**Проблема:**
сбор данных по показателям Целей устойчивого развития, размещенных на сайте [Росстата](https://www.fedstat.ru/), производится сотрудниками организации вручную из электронных таблиц,  отличающихся по своему структурному формату, что занимает большое количество времени

**Цель проекта:** 
автоматизация процесса сбора данных по показателям Целей устойчивого развития, объединение разрозненных источников данных с большим разнообразием атрибутов и представление их в едином формате (документ Excel)

**Задачи по проекту:**  
- разработать парсер для получения данных по определенным показателям с сайта [Росстата](https://www.fedstat.ru/)
- написать бота на Python (Selenium) для скачивания SDMX-документов с сайта
- создать структуру для хранения данных в PostgreSQL
- разобрать загруженные SDMX-документы и записать в PostgreSQL
- настроить выгрузку показателей в формат Excel
- создать отказоустойчивую очередь опросов получения SDMX-документов (Celery, Redis)  
- упаковать web-приложение в Docker-контейнер
- визуализировать полученный набор данных (Yandex DataLens) и оформить результаты в презентации

**Используемые инструменты:**
Python/Django, Selenium, PostgreSQL, Celery, Redis, Docker


## Инструкция по запуску приложения
### Предварительные действия:
Установка Docker - официальное руководство: https://docs.docker.com/get-docker/

Корректность установки необходимо проверить командой в терминале:

 ```docker --version```  

**Вывод:**  
 ```
Docker version 20.10.7, build f0df350  
 ```
Установка Docker-compose - официальное руководство:  https://docs.docker.com/compose/

Корректность установки необходимо проверить командой в терминале:

 ```docker-compose --version ```  

**Вывод:**  
 ```
 Docker Compose version v2.0.0-beta.6   
 ```
Скачивание образа браузера Chrome (команда):

```docker pull selenoid/chrome:91.0```  



### Запуск проекта:

Расположение проекта на github: [проект](https://github.com/tatiana834680/Rosstat_project.git)

Необходимо перейти в директорию проекта и запустить сборку командой:

```docker-compose build```  

Запуск проекта (команда):

```docker-compose up -d```  

### Перечень команд управления приложением (последовательное выполнение):  
**Ручной запуск парсинга ссылок на показатели:**  

```docker-compose exec WEB python3 manage.py parse_link```  

**Ручной запуск выгрузки SDMX:**  

```docker-compose exec WEB python3 manage.py parse_emis```  

**Ручной запуск обработки (парсинга) SDMX:** 

```docker-compose exec WEB python3 manage.py parse_data```  

##### Интерфейсы приложения:  
Django http://localhost:8000/admin    
Selenoid http://localhost:8081    
PgAdmin4 http://localhost:8082    
Учетные данные к сервисам расположены в .env файле в директории проекта.   
